# レビュー指摘 → 思考ダンプへの戻し方（型）

## ゴール
- レビュー指摘を 感情・反射で処理しない
- 変更作業を 判断と実装/修正に分離する
- 再開しやすい形で 次の一手に落とす

## 大前提：レビューは「入力」、成果物は「出力」
- レビューコメントを受け取った瞬間にやることは、修正ではなく 取り込みです。
  - ❌ その場で設計書を直し始める
  - ⭕ 指摘を“材料化”して、後で直す

## 受け取り用ミニテンプレ（コピペ運用）
- レビュー指摘事項を下記の形式に変換する
  - コツ
    - **「期待していること（推定）」**を書くと、刺さり方が減ります
      - 相手の意図を“仕様”に変換する
```
## Review Intake（レビュー取り込み）

- 指摘ID: R-01
- 対象: (章/要件ID/処理名/ファイル/行など)
- 指摘内容: 
- 期待していること（推定）: 
- 影響範囲（推定）: 
- 種別: [不明点/矛盾/漏れ/リスク/改善提案/好み]
- こちらの初期反応（感情メモ・任意）:
```

## “思考ダンプに戻す”とは何か
- 戻す＝ コメントを「脳内の問い」に変換することです。
  - レビュー指摘は多くの場合、次のどれかです：
    - Q：質問（不明点）
    - R：リスク（事故りそう）
    - G：ギャップ（漏れ・矛盾）
    - O：選択（案の比較・意思決定）
  - 👉 思考ダンプに戻すときは、結論を書かないで、これらを「問い」の形で置きます。

## 変換マッピング（レビュー → 思考ダンプ）
```
### レビュー指摘 → 思考ダンプ 変換マッピング

- 質問（Q）: 「何が前提？」「どの条件で？」という問いに直す
- リスク（R）: 「何が壊れる？」「検知できる？」の観点に直す
- 漏れ/矛盾（G）: 「どこと整合してない？」「何が未記載？」に直す
- 比較/提案（O）: 「選択肢は？」「判断軸は？」に直す
- 好み/流儀: 「目的に照らして採用するか？」に直す（採用前提にしない）
```

## 思考ダンプ側の“レビュー戻し”セクション（追加）
- **あなた専用A4テンプレに、レビュー対応のためにこの箱を追加する**
  - **「未解決のまま置く」**のが重要
```
## ⑥ レビューから戻ってきた問い（未解決のまま置く）

- [R-01] 問い:
  - 前提:
  - 確認先:
  - 暫定案:
- [R-02] 問い:
```

## 実例（1件を最後まで）

### レビュー指摘
```
「証明書配布方式が未決のままですが、運用時の更新手順と責任範囲も含めて整理してください」
```

### Intake（取り込み）
```
- 指摘ID: R-03
- 対象: 基本設計 / セキュリティ設計方針
- 指摘内容: 証明書配布方式と運用（更新手順・責任範囲）が不明確
- 期待していること（推定）: 実装方式＋運用設計（更新/ローテ/担当）まで一貫させたい
- 影響範囲（推定）: 設計（方針）/ 運用設計 / 手順書 / 監視
- 種別: 漏れ + リスク
```

### 思考ダンプに戻す（問い化）
```
## ⑥ レビューから戻ってきた問い（未解決のまま置く）

- [R-03] 問い:
  - 証明書配布方式の候補は何？（Secret/CSI/イメージ同梱/Sidecar…）
  - 更新頻度・ローテーション要件は？
  - 更新時にPod再起動が必要か？許容されるか？
  - 責任範囲：誰が更新する？（SRE/運用/開発）
  - 更新失敗の検知はどうする？（期限監視/ログ/メトリクス）
  - 方式を選ぶ判断軸は？（セキュリティ/運用負荷/自動化/監査）
```

### “成果物に戻す”ための最小アウトプット（後で）
- 基本設計：方式と方針（責務分界含む）
- 詳細設計：設定値・手順・例外
- 運用設計：更新手順、監視、ロール

## “戻した後”の処理手順（あなた向けに負荷を減らす型）
- レビューを受けた後は、次の順で進めると脳の負担が少ないです。
  - 1. 取り込み（Intake）：指摘を表にする（判断しない）
  - 2. 問い化（Dump）：思考ダンプに戻す（結論を出さない）
  - 3. 分類（🟢🟡🔵）
    - 🟢 すでに答えが書いてある → 参照を追加するだけ
    - 🟡 判断が必要 → 未決事項化（レビュー返答で質問）
    - 🔵 調査タスク → TODOへ
  - 4. 最小反映：成果物へ反映（1〜3行で十分）

## レビュー返信文も“型”にしておく（精神が守られる）
- 修正前に返信が必要なときのテンプレです。
  - 「防御」ではなく「処理」になります。
```
- 指摘ありがとうございます。意図は「◯◯まで含めて一貫させる」と理解しました。
- 現時点の整理：
  - 確定：◯◯
  - 未決：◯◯（判断軸：◯◯）
- 次アクション：◯◯を比較して、◯/◯までに方針追記します。
```

## よくあるハマりと対策
- ハマり：指摘を全部“正しい”と感じて潰れる
  - → 種別に「好み/流儀」を用意して、採用前提を崩す
- ハマり：指摘が多くて混乱
  - → Intakeだけして、🟡（判断必要）から先に並べる
    - “決めるべき順番”が見えるだけで楽になります
- ハマり：直しても直しても終わらない
  - → 反映は最小（1〜3行）→ 追加詳細は別紙（詳細設計/運用手順）に逃がす

## 実運用に落とすおすすめ（GitHub/ドキュメント運用）
- PRレビューなら：
  - コメント → Issue化 or Checklist化 → Intakeテンプレに貼る
- ドキュメントレビューなら：
  - 「R-xx」で通番を振って、思考ダンプと成果物で同じIDを使う
    - → 往復リンクができて迷子にならない